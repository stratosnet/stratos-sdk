<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>Stratos SDK</title><meta name="description" content="Documentation for Stratos SDK"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">Stratos SDK</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h2>Stratos SDK</h2></div><div class="tsd-panel tsd-typography"><a id="md:stratos-javascript-sdk" class="tsd-anchor"></a><h1><a href="#md:stratos-javascript-sdk">Stratos JavaScript SDK</a></h1><a id="md:technology-stack" class="tsd-anchor"></a><h2><a href="#md:technology-stack">Technology Stack</a></h2><p>TypeScript, axios, jest, webpack5, @cosmjs/crypto, bip39, crypto</p>
<a id="md:getting-started" class="tsd-anchor"></a><h2><a href="#md:getting-started">Getting Started</a></h2><a id="md:add-stratos-sdk-to-your-project" class="tsd-anchor"></a><h3><a href="#md:add-stratos-sdk-to-your-project">Add Stratos SDK to your project</a></h3><p>You can either install the Stratos SDK from npmjs by running using <code>yarn</code> or <code>npm</code>:</p>
<p>for <code>npm</code></p>
<pre><code class="language-bash"><br/><span class="hl-0">$</span><span class="hl-1"> </span><span class="hl-2">npm</span><span class="hl-1"> </span><span class="hl-2">i</span><span class="hl-1"> </span><span class="hl-2">@stratos-network/stratos-sdk.js</span><br/>
</code><button>Copy</button></pre>
<p>for <code>yarn</code></p>
<pre><code class="language-bash"><br/><span class="hl-0">$</span><span class="hl-1"> </span><span class="hl-2">yarn</span><span class="hl-1"> </span><span class="hl-2">add</span><span class="hl-1">  </span><span class="hl-2">@stratos-network/stratos-sdk.js</span><br/>
</code><button>Copy</button></pre>
<p>or, alternatively, (and to be able to use the latest and most updated version of SDK) you could simple add it directly to your dependencies file (your <code>package.json</code>):</p>
<pre><code class="language-json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-3">&quot;name&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;your-dapp-project&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-3">&quot;version&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;1.0.0&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-3">&quot;description&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;The mega dapp which uses the Stratos Network SDK&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-3">&quot;dependencies&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-3">&quot;@stratos-network/stratos-sdk.js&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;https://github.com/stratosnet/stratos-sdk.git#develop&quot;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p>also, if you prefer using <code>git+ssh</code> instead of <code>https</code> path, you could add it this way:</p>
<pre><code class="language-json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-3">&quot;name&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;your-dapp-project&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-3">&quot;version&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;1.0.0&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-3">&quot;description&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;The mega dapp which uses the Stratos Network SDK&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-3">&quot;dependencies&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-3">&quot;@stratos-network/stratos-sdk.js&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;git+ssh://git@github.com:stratosnet/stratos-sdk.git#develop&quot;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<a id="md:example-of-using-the-sdk-in-your-project" class="tsd-anchor"></a><h3><a href="#md:example-of-using-the-sdk-in-your-project">Example of using the SDK in your project</a></h3><p>First, you need to import the SDK to your TS file and initialize it with the connection parameters and other options, so, you are basically, defining which endpoint of the Stratos Network (which environment) the SDK will be connecting to, when making network requests.</p>
<p>This is usually done at a very beginning of your application load. For example in a Root app store, or something like this. Somewhere, what is loaded at a very beginning.</p>
<pre><code class="language-ts"><span class="hl-4">// AppStore.ts</span><br/><br/><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">Sdk</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@stratos-network/stratos-sdk.js&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">networkInfo</span><span class="hl-1"> = {</span><br/><span class="hl-1">    </span><span class="hl-6">key:</span><span class="hl-1"> </span><span class="hl-2">&#39;mainnet&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;Mainnet&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">stratosFaucetDenom:</span><span class="hl-1"> </span><span class="hl-2">&#39;stos&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">restUrl:</span><span class="hl-1"> </span><span class="hl-2">&#39;https://rest.thestratos.org&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">rpcUrl:</span><span class="hl-1"> </span><span class="hl-2">&#39;https://rpc.thestratos.org&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">chainId:</span><span class="hl-1"> </span><span class="hl-2">&#39;stratos-1&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">explorerUrl:</span><span class="hl-1"> </span><span class="hl-2">&#39;https://explorer.thestratos.org/stratos&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  },</span><br/><br/><span class="hl-8">Sdk</span><span class="hl-1">.default.init(networkInfo);</span>
</code><button>Copy</button></pre>
<p>After that, you can import a Network API module and perform a network call. Here is an example how to use a Network API. For example here is how to update the ChainId after the SDK is initialized (yes, like other parameter, it could be changed, as it is just a config value)</p>
<pre><code class="language-ts"><span class="hl-4">// yourComponent.ts</span><br/><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">networkService</span><span class="hl-1">, </span><span class="hl-6">Sdk</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@stratos-network/stratos-sdk.js&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-0">main</span><span class="hl-1"> = </span><span class="hl-7">async</span><span class="hl-1"> () </span><span class="hl-7">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-7">let</span><span class="hl-1"> </span><span class="hl-6">resolvedChainID</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  </span><span class="hl-5">try</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-6">resolvedChainID</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">networkService</span><span class="hl-1">.</span><span class="hl-0">getChainId</span><span class="hl-1">();</span><br/><span class="hl-1">  } </span><span class="hl-5">catch</span><span class="hl-1"> (</span><span class="hl-6">error</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-6">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;🚀 ~ resolvedChainID error&#39;</span><span class="hl-1">, </span><span class="hl-6">error</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-4">// networkInfo here is from the previous example</span><br/><span class="hl-1">    </span><span class="hl-6">resolvedChainID</span><span class="hl-1"> = </span><span class="hl-6">networkInfo</span><span class="hl-1">.</span><span class="hl-6">chainId</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-6">Sdk</span><span class="hl-1">.</span><span class="hl-6">default</span><span class="hl-1">.</span><span class="hl-6">environment</span><span class="hl-1">.</span><span class="hl-6">chainId</span><span class="hl-1"> = </span><span class="hl-6">resolvedChainID</span><span class="hl-1">;</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-0">main</span><span class="hl-1">();</span>
</code><button>Copy</button></pre>
<p>To be able to sign a transaction, or to send it, you need to initialize the cosmjs client in the sdk. Typically, after you log in to the application, and verification has been passed, then it is a good time to configure the cosmjs. Here is how that could be done.</p>
<pre><code class="language-ts"><span class="hl-4">// yourLoginComponent.ts</span><br/><span class="hl-5">import</span><span class="hl-1"> </span><span class="hl-7">*</span><span class="hl-1"> </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-6">stratosSdk</span><span class="hl-1"> </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@stratos-network/stratos-sdk.js&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-0">main</span><span class="hl-1"> = </span><span class="hl-7">async</span><span class="hl-1"> () </span><span class="hl-7">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">// mnemonic of the user that is logging in, PLEASE DO NOT COPY OR USE IT</span><br/><span class="hl-1">  </span><span class="hl-4">// and God forbids, do not hardcode it</span><br/><span class="hl-1">  </span><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">testMnemonic</span><span class="hl-1"> =</span><br/><span class="hl-1">    </span><span class="hl-2">&#39;speed script velvet draft assault observe invest bracket sick item car switch fruit very rigid only about matrix gorilla local uphold kid morning face&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  </span><span class="hl-4">// your login logic to check and verify the password or pin or whatever</span><br/><br/><span class="hl-1">  </span><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">password</span><span class="hl-1"> = </span><span class="hl-2">&#39;given_verified_password&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">hdPathIndex</span><span class="hl-1"> = </span><span class="hl-9">0</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  </span><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">phrase</span><span class="hl-1"> = </span><span class="hl-6">stratosSdk</span><span class="hl-1">.</span><span class="hl-6">hdVault</span><span class="hl-1">.</span><span class="hl-6">mnemonic</span><span class="hl-1">.</span><span class="hl-0">convertStringToArray</span><span class="hl-1">(</span><span class="hl-6">testMnemonic</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">masterKeySeedInfo</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">stratosSdk</span><span class="hl-1">.</span><span class="hl-6">hdVault</span><span class="hl-1">.</span><span class="hl-6">keyManager</span><span class="hl-1">.</span><span class="hl-0">createMasterKeySeed</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-6">phrase</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">password</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">hdPathIndex</span><span class="hl-1">,</span><br/><span class="hl-1">  );</span><br/><br/><span class="hl-1">  </span><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">serialized</span><span class="hl-1"> = </span><span class="hl-6">masterKeySeedInfo</span><span class="hl-1">.</span><span class="hl-6">encryptedWalletInfo</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  </span><span class="hl-4">// in case there was another user , with a different mnemonic or hdPathIndex,</span><br/><span class="hl-1">  </span><span class="hl-4">// it is better to reset cosmjs</span><br/><span class="hl-1">  </span><span class="hl-6">stratosSdk</span><span class="hl-1">.</span><span class="hl-6">cosmosService</span><span class="hl-1">.</span><span class="hl-0">resetCosmos</span><span class="hl-1">();</span><br/><br/><span class="hl-1">  </span><span class="hl-4">// and now we initialize the cosmjs</span><br/><span class="hl-1">  </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">stratosSdk</span><span class="hl-1">.</span><span class="hl-6">cosmosService</span><span class="hl-1">.</span><span class="hl-0">getCosmos</span><span class="hl-1">(</span><span class="hl-6">serialized</span><span class="hl-1">, </span><span class="hl-6">password</span><span class="hl-1">);</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-0">main</span><span class="hl-1">();</span>
</code><button>Copy</button></pre>
<p>One more example demonstrates how to delegate some STOS to a given validator. It also contains an example how you can create (restore) a wallet from a given mnemonic and hdPathIndex, which is in some way similar to the cosmjs initialization process.</p>
<pre><code class="language-ts"><span class="hl-4">// youDelegateComponent.ts</span><br/><span class="hl-5">import</span><span class="hl-1"> </span><span class="hl-7">*</span><span class="hl-1"> </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-6">stratosSdk</span><span class="hl-1">, { </span><span class="hl-6">transactions</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@stratos-network/stratos-sdk.js&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-0">mainDelegate</span><span class="hl-1"> = </span><span class="hl-7">async</span><span class="hl-1"> (</span><br/><span class="hl-1">  </span><span class="hl-6">hdPathIndex</span><span class="hl-1">: </span><span class="hl-10">number</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">givenMnemonic</span><span class="hl-1">: </span><span class="hl-10">string</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">validatorAddressToDelegate</span><span class="hl-1">: </span><span class="hl-10">string</span><span class="hl-1">[],</span><br/><span class="hl-1">  </span><span class="hl-6">amount</span><span class="hl-1">: </span><span class="hl-10">number</span><span class="hl-1">[],</span><br/><span class="hl-1">) </span><span class="hl-7">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">// It is just an example. Do not assume you have exactly 2 addresses or amounts given</span><br/><span class="hl-1">  </span><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">validatorAddressOne</span><span class="hl-1"> = </span><span class="hl-6">validatorAddressToDelegate</span><span class="hl-1">[</span><span class="hl-9">0</span><span class="hl-1">];</span><br/><span class="hl-1">  </span><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">validatorAddressTwo</span><span class="hl-1"> = </span><span class="hl-6">validatorAddressToDelegate</span><span class="hl-1">[</span><span class="hl-9">1</span><span class="hl-1">];</span><br/><br/><span class="hl-1">  </span><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">phrase</span><span class="hl-1"> = </span><span class="hl-6">stratosSdk</span><span class="hl-1">.</span><span class="hl-6">hdVault</span><span class="hl-1">.</span><span class="hl-6">mnemonic</span><span class="hl-1">.</span><span class="hl-0">convertStringToArray</span><span class="hl-1">(</span><span class="hl-6">givenMnemonic</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">masterKeySeed</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">stratosSdk</span><span class="hl-1">.</span><span class="hl-6">hdVault</span><span class="hl-1">.</span><span class="hl-6">keyManager</span><span class="hl-1">.</span><span class="hl-0">createMasterKeySeed</span><span class="hl-1">(</span><span class="hl-6">phrase</span><span class="hl-1">, </span><span class="hl-6">password</span><span class="hl-1">);</span><br/><br/><span class="hl-1">  </span><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">encryptedMasterKeySeedString</span><span class="hl-1"> = </span><span class="hl-6">masterKeySeed</span><span class="hl-1">.</span><span class="hl-6">encryptedMasterKeySeed</span><span class="hl-1">.</span><span class="hl-0">toString</span><span class="hl-1">();</span><br/><span class="hl-1">  </span><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">keyPairZero</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">stratosSdk</span><span class="hl-1">.</span><span class="hl-6">hdVault</span><span class="hl-1">.</span><span class="hl-6">wallet</span><span class="hl-1">.</span><span class="hl-0">deriveKeyPair</span><span class="hl-1">(</span><span class="hl-6">hdPathIndex</span><span class="hl-1">, </span><span class="hl-6">password</span><span class="hl-1">, </span><span class="hl-6">encryptedMasterKeySeedString</span><span class="hl-1">);</span><br/><br/><span class="hl-1">  </span><span class="hl-5">if</span><span class="hl-1"> (!</span><span class="hl-6">keyPairZero</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-4">// or throw an error</span><br/><span class="hl-1">    </span><span class="hl-5">return</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-4">// This is just an example, and you don&#39;t need to restore the entire keyPairZero from</span><br/><span class="hl-1">  </span><span class="hl-4">// the mnemonic, and you could simply pass in the delegatorAddress from the outside of</span><br/><span class="hl-1">  </span><span class="hl-4">// the function</span><br/><span class="hl-1">  </span><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">delegatorAddress</span><span class="hl-1"> = </span><span class="hl-6">keyPairZero</span><span class="hl-1">.</span><span class="hl-6">address</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  </span><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">sendTxMessages</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">transactions</span><span class="hl-1">.</span><span class="hl-0">getDelegateTx</span><span class="hl-1">(</span><span class="hl-6">delegatorAddress</span><span class="hl-1">, [</span><br/><span class="hl-1">    { </span><span class="hl-6">amount:</span><span class="hl-1"> </span><span class="hl-6">amount</span><span class="hl-1">[</span><span class="hl-9">0</span><span class="hl-1">], </span><span class="hl-6">validatorAddressOne</span><span class="hl-1"> },</span><br/><span class="hl-1">    { </span><span class="hl-6">amount:</span><span class="hl-1"> </span><span class="hl-6">amount</span><span class="hl-1">[</span><span class="hl-9">1</span><span class="hl-1">], </span><span class="hl-6">validatorAddressTwo</span><span class="hl-1"> },</span><br/><span class="hl-1">  ]);</span><br/><br/><span class="hl-1">  </span><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">signedTx</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">transactions</span><span class="hl-1">.</span><span class="hl-0">sign</span><span class="hl-1">(</span><span class="hl-6">delegatorAddress</span><span class="hl-1">, </span><span class="hl-6">sendTxMessages</span><span class="hl-1">);</span><br/><br/><span class="hl-1">  </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-6">signedTx</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-5">try</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">result</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">transactions</span><span class="hl-1">.</span><span class="hl-0">broadcast</span><span class="hl-1">(</span><span class="hl-6">signedTx</span><span class="hl-1">);</span><br/><span class="hl-1">    } </span><span class="hl-5">catch</span><span class="hl-1"> (</span><span class="hl-6">error</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">err</span><span class="hl-1">: </span><span class="hl-10">Error</span><span class="hl-1"> = </span><span class="hl-6">error</span><span class="hl-1"> </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-10">Error</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-0">main</span><span class="hl-1"> = </span><span class="hl-7">async</span><span class="hl-1"> () </span><span class="hl-7">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">// validatorAddresses and amounts are arrays of data and testMnemonic is given</span><br/><span class="hl-1">  </span><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">delegateResult</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">mainDelegate</span><span class="hl-1">(</span><span class="hl-9">0</span><span class="hl-1">, </span><span class="hl-6">testMnemonic</span><span class="hl-1">, </span><span class="hl-6">validatorAddresses</span><span class="hl-1">, </span><span class="hl-6">amounts</span><span class="hl-1">);</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-0">main</span><span class="hl-1">();</span>
</code><button>Copy</button></pre>
<p>You can find a lot more examples in the <code>src/run.ts</code> file. More about it in the next section, where you can learn how to develop in the SDK and how to run its code directly, without importing it in your application.</p>
<a id="md:prerequisites-for-the-development" class="tsd-anchor"></a><h2><a href="#md:prerequisites-for-the-development">Prerequisites for the Development</a></h2><a id="md:packages-to-be-installed-on-a-global-level" class="tsd-anchor"></a><h3><a href="#md:packages-to-be-installed-on-a-global-level">Packages to be installed on a global level</a></h3><ol>
<li>Install <a href="https://nodejs.org/en/download/">Node.js</a> (version &gt;= v12.18.1 );</li>
<li>Install <strong>yarn</strong> package management tool globally;</li>
</ol>
<pre><code class="language-bash"><span class="hl-0">$</span><span class="hl-1"> </span><span class="hl-2">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-7">-g</span><span class="hl-1"> </span><span class="hl-2">yarn</span>
</code><button>Copy</button></pre>
<a id="md:project-dependencies-installation" class="tsd-anchor"></a><h3><a href="#md:project-dependencies-installation">Project dependencies installation</a></h3><p>In the project directory, execute the following command:</p>
<pre><code class="language-bash"><span class="hl-0">$</span><span class="hl-1"> </span><span class="hl-2">yarn</span><span class="hl-1"> </span><span class="hl-2">install</span>
</code><button>Copy</button></pre>
<a id="md:development" class="tsd-anchor"></a><h2><a href="#md:development">Development</a></h2><a id="md:start-the-development-environment" class="tsd-anchor"></a><h3><a href="#md:start-the-development-environment">Start the development environment</a></h3><p>NOTE: Before using the development sandbox (details are below), you need to copy the <code>env.sandbox</code> file into the <code>.env</code> file and update <code>ZERO_MNEMONIC</code> with a mnemonic phrase that you would like to use.</p>
<p>For the purpose of developing new features, testing the changes, as well as the TS compilation, project has a <strong>sandbox</strong> file, which you can modify and save, and after that the source code would be re-compiled and executed.</p>
<p>To do so, first, in the project root directory execute this command, and wait for the console log output to appear.</p>
<pre><code class="language-bash"><br/><span class="hl-0">$</span><span class="hl-1"> </span><span class="hl-2">yarn</span><span class="hl-1"> </span><span class="hl-2">start</span><br/>
</code><button>Copy</button></pre>
<p>Then, modify <code>src/run.ts</code> file, and save it, so the code would be re-compiled, executed and re-rendered in the output.</p>
<a id="md:documentation" class="tsd-anchor"></a><h3><a href="#md:documentation">Documentation</a></h3><p>SDK comes with two directories containing Documentation. Those are <code>docs</code> and <code>docs-html</code>. You can always generate the latest docs by running either <code>yarn doc</code> (which would create docs in <code>md</code> format), or <code>yarn doc-html</code> (which would create html pages with the documentation).</p>
<a id="md:testing" class="tsd-anchor"></a><h3><a href="#md:testing">Testing</a></h3><p>For the sake of consistency, all the tests should be created with <code>.spec.ts</code> extension, at the same level, where the tested file is located.</p>
<p>For example, for <code>src/utils.ts</code> the test file should be named as <code>src/utils.spec.ts</code>.</p>
<p>To run the tests, in the project root directory execute this command, and wait for the console log output to appear.</p>
<pre><code class="language-bash"><br/><span class="hl-0">$</span><span class="hl-1"> </span><span class="hl-2">yarn</span><span class="hl-1"> </span><span class="hl-2">test</span><br/>
</code><button>Copy</button></pre>
<a id="md:code-quality" class="tsd-anchor"></a><h3><a href="#md:code-quality">Code quality</a></h3><p>With the idea of following good practices and standards, code should be <strong>linted</strong> and cleaned-up before being commited. The project is configured to use <strong>eslint</strong> and <strong>prettier</strong> for this purpose.</p>
<p>To run the linting, in the project root directory execute this command, and wait for the console log output to appear.</p>
<pre><code class="language-bash"><br/><span class="hl-0">$</span><span class="hl-1"> </span><span class="hl-2">yarn</span><span class="hl-1"> </span><span class="hl-2">lint</span><br/>
</code><button>Copy</button></pre>
<a id="md:typing-with-dts" class="tsd-anchor"></a><h3><a href="#md:typing-with-dts">Typing with *.d.ts</a></h3><p>The project is configured in such as way, so there is no need to manually create types. After running <strong>build</strong> command, all the types are generated automatiacally, based on <em>.ts</em> files annotations.</p>
<a id="md:build" class="tsd-anchor"></a><h2><a href="#md:build">Build</a></h2><p>Execute the following commands in the project directory to build resources for execution in the production environment.</p>
<pre><code class="language-bash"><br/><span class="hl-0">$</span><span class="hl-1"> </span><span class="hl-2">yarn</span><span class="hl-1"> </span><span class="hl-2">build</span><br/>
</code><button>Copy</button></pre>
<blockquote>
<p>Compiled bundles as well as the exported types, would be located in <strong>&quot;root directory/dist&quot;</strong></p>
</blockquote>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-index-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><h4 class="uppercase">Member Visibility</h4><form><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li></ul></form></div><div class="tsd-theme-toggle"><h4 class="uppercase">Theme</h4><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-index-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#md:stratos-javascript-sdk"><span>Stratos <wbr/>Java<wbr/>Script SDK</span></a><ul><li><a href="#md:technology-stack"><span>Technology <wbr/>Stack</span></a></li><li><a href="#md:getting-started"><span>Getting <wbr/>Started</span></a></li><li><ul><li><a href="#md:add-stratos-sdk-to-your-project"><span>Add <wbr/>Stratos SDK to your project</span></a></li><li><a href="#md:example-of-using-the-sdk-in-your-project"><span>Example of using the SDK in your project</span></a></li></ul></li><li><a href="#md:prerequisites-for-the-development"><span>Prerequisites for the <wbr/>Development</span></a></li><li><ul><li><a href="#md:packages-to-be-installed-on-a-global-level"><span>Packages to be installed on a global level</span></a></li><li><a href="#md:project-dependencies-installation"><span>Project dependencies installation</span></a></li></ul></li><li><a href="#md:development"><span>Development</span></a></li><li><ul><li><a href="#md:start-the-development-environment"><span>Start the development environment</span></a></li><li><a href="#md:documentation"><span>Documentation</span></a></li><li><a href="#md:testing"><span>Testing</span></a></li><li><a href="#md:code-quality"><span>Code quality</span></a></li><li><a href="#md:typing-with-dts"><span>Typing with *.d.ts</span></a></li></ul></li><li><a href="#md:build"><span>Build</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html" class="current"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-1"></use></svg><span>Stratos SDK</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base="."><li>Loading...</li></ul></nav></div></div></div><div class="overlay"></div></body></html>